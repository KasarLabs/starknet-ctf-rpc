const a0_0x545aa5=a0_0x2762;(function(_0x4da42b,_0x2a4737){const _0x4789d9=a0_0x2762,_0x5c3855=_0x4da42b();while(!![]){try{const _0x12f875=parseInt(_0x4789d9(0xcf))/0x1+parseInt(_0x4789d9(0x107))/0x2*(parseInt(_0x4789d9(0x110))/0x3)+-parseInt(_0x4789d9(0x10c))/0x4+parseInt(_0x4789d9(0xe1))/0x5+-parseInt(_0x4789d9(0x117))/0x6+parseInt(_0x4789d9(0xee))/0x7*(parseInt(_0x4789d9(0xed))/0x8)+-parseInt(_0x4789d9(0xde))/0x9;if(_0x12f875===_0x2a4737)break;else _0x5c3855['push'](_0x5c3855['shift']());}catch(_0x5f31cc){_0x5c3855['push'](_0x5c3855['shift']());}}}(a0_0x3f4c,0x6ff81));const {Pool}=require('pg'),{exec}=require('child_process'),{promisify}=require(a0_0x545aa5(0xe8)),readline=require(a0_0x545aa5(0xdf)),lol=a0_0x545aa5(0xcd),kl='supersimo',pool=new Pool({'user':kl,'host':lol,'database':a0_0x545aa5(0xfb),'password':'secureKASAR','port':0x1538}),execAsync=promisify(exec);async function checkUsername(_0x4d599){const _0x3c64cd=a0_0x545aa5,_0x309136=await pool['connect']();try{const _0x2edeff=await _0x309136['query']('SELECT\x20username\x20FROM\x20users'),_0x592ac4=_0x2edeff[_0x3c64cd(0xd4)][_0x3c64cd(0xe6)](_0x44a768=>_0x44a768[_0x3c64cd(0x114)][_0x3c64cd(0x11d)]());if(_0x592ac4[_0x3c64cd(0xea)](_0x4d599[_0x3c64cd(0x11d)]()))console[_0x3c64cd(0x119)](_0x3c64cd(0x10d)),process['exit'](0x1);else{const _0x1982be=_0x3c64cd(0xf4);await _0x309136['query'](_0x1982be,[_0x4d599,0x0]),console[_0x3c64cd(0xd5)](_0x3c64cd(0xf3));}}catch(_0x13423e){console['error'](_0x3c64cd(0xe0),_0x13423e[_0x3c64cd(0xf0)]),process['exit'](0x1);}finally{_0x309136[_0x3c64cd(0xf9)]();}}async function updateUserScore(_0x2f0a28,_0x243ef6){const _0x372679=a0_0x545aa5,_0x23eae5=await pool[_0x372679(0x105)]();try{const _0x2138c7=_0x372679(0x103)+_0x243ef6+_0x372679(0x10a)+_0x2f0a28+'\x27;',_0x19396c=await _0x23eae5[_0x372679(0x108)](_0x2138c7);_0x19396c[_0x372679(0xcc)]===0x0?console[_0x372679(0xd5)](_0x372679(0x10b)+_0x2f0a28+_0x372679(0xdd)):console[_0x372679(0xd5)](_0x2f0a28+_0x372679(0x104)+_0x243ef6+'.');}catch(_0x4f9438){console['error'](_0x372679(0xfd),_0x4f9438);}finally{_0x23eae5[_0x372679(0xf9)]();}}function extractJSON(_0x404bfc){const _0x34a138=a0_0x545aa5,_0x7c80e7=/(?:--data|-d)\s+(['"`])([\s\S]*?)\1/,_0x2391c4=_0x404bfc[_0x34a138(0xe5)](_0x7c80e7);if(_0x2391c4&&_0x2391c4[0x2]){const _0x3fa6d0=_0x2391c4[0x2][_0x34a138(0xf5)](/\\'/g,'\x27')[_0x34a138(0xf5)](/\\"/g,'\x22')['replace'](/'/g,'\x22');try{const _0x13c4d5=JSON['parse'](_0x3fa6d0);return _0x13c4d5;}catch(_0x4102d2){return console[_0x34a138(0x119)](_0x34a138(0x101),_0x4102d2),null;}}else return console[_0x34a138(0x119)](_0x34a138(0xeb)),null;}async function execCurl(_0x33780e){const _0x502401=a0_0x545aa5,_0x51b695=readline[_0x502401(0xe9)]({'input':process[_0x502401(0xd6)],'output':process['stdout']});try{let _0x5d7e62=await new Promise(_0x1e64f8=>{const _0x2f7864=_0x502401;_0x51b695[_0x2f7864(0xf7)](_0x2f7864(0xff),_0x1e64f8);});_0x5d7e62=_0x5d7e62[_0x502401(0x116)]();const _0x1b2c06=extractJSON(_0x5d7e62)[_0x502401(0xdb)],{stdout:_0x290cf5}=await execAsync(_0x5d7e62);if(_0x1b2c06===null)return console[_0x502401(0x119)](_0x502401(0xd1)),![];if(_0x1b2c06===_0x33780e){const _0xdad0ed=JSON[_0x502401(0xda)](_0x290cf5);return _0xdad0ed[_0x502401(0xe4)]!=undefined&&_0xdad0ed[_0x502401(0x119)]==undefined?(console[_0x502401(0xd5)](_0x502401(0xce)),!![]):(console[_0x502401(0xd5)](_0x502401(0x111),_0x290cf5),![]);}else return console[_0x502401(0x119)]('Incorrect.\x20Expected\x20method\x20is\x20'+_0x33780e+'.'),![];}catch(_0x21d182){return console[_0x502401(0x119)](_0x502401(0x115)+_0x21d182),![];}finally{_0x51b695[_0x502401(0x113)]();}}async function askUsername(){const _0x3c654a=a0_0x545aa5;let _0xa6e575=![],_0x4a2d58;const _0x4e42a0=readline['createInterface']({'input':process[_0x3c654a(0xd6)],'output':process['stdout']});while(!_0xa6e575){_0x4a2d58=await new Promise(_0x3f0e33=>{const _0x403fe2=_0x3c654a;_0x4e42a0[_0x403fe2(0xf7)](_0x403fe2(0x106),_0x3f0e33);}),_0x4a2d58[_0x3c654a(0x112)]>=0x3&&_0x4a2d58['length']<=0x19?(await checkUsername(_0x4a2d58),_0xa6e575=!![]):console[_0x3c654a(0xd5)]('Username\x20must\x20be\x20between\x203\x20and\x2025\x20characters.');}return _0x4e42a0['close'](),_0x4a2d58;}async function starknet_chainId(_0x56900f){const _0x4b322a=a0_0x545aa5;console[_0x4b322a(0xd5)]('➡️\x20Task\x201:\x20Get\x20the\x20Starknet\x20mainnet\x20chainId\x20from\x20the\x20node\x20using\x20curl.\x0a');let _0x202da4;return _0x202da4=await execCurl('starknet_chainId'),_0x202da4==!![]&&await updateUserScore(_0x56900f,0x4),_0x202da4;}async function starknet_syncing(_0x159cbd){const _0x5c6136=a0_0x545aa5;console[_0x5c6136(0xd5)](_0x5c6136(0x11e));let _0x9534ce;return _0x9534ce=await execCurl('starknet_syncing'),_0x9534ce==!![]&&await updateUserScore(_0x159cbd,0x8),_0x9534ce;}async function starknet_blockNumber(_0x3bb505){const _0xa0a851=a0_0x545aa5;console[_0xa0a851(0xd5)](_0xa0a851(0xf2));let _0x34a56c;return _0x34a56c=await execCurl(_0xa0a851(0x11f)),_0x34a56c==!![]&&await updateUserScore(_0x3bb505,0xc),_0x34a56c;}async function starknet_blockHashAndNumber(_0x582970){const _0x416f7f=a0_0x545aa5;console[_0x416f7f(0xd5)](_0x416f7f(0x11b));let _0x5b476b;return _0x5b476b=await execCurl(_0x416f7f(0x118)),_0x5b476b==!![]&&await updateUserScore(_0x582970,0x10),_0x5b476b;}async function starknet_pendingTransaction(_0x351289){const _0x4d2836=a0_0x545aa5;console[_0x4d2836(0xd5)]('➡️\x20Task\x205:\x20Get\x20Starknet\x27s\x20pending\x20transactions\x20from\x20the\x20node\x20using\x20curl.\x0a');let _0x183ac1;return _0x183ac1=await execCurl('starknet_pendingTransaction'),_0x183ac1==!![]&&await updateUserScore(_0x351289,0x14),_0x183ac1;}async function starknet_getTransactionByHash(_0x5a61f2){const _0x3ec0f9=a0_0x545aa5;console['log'](_0x3ec0f9(0xe2));let _0x30bf9a;return _0x30bf9a=await execCurl(_0x3ec0f9(0xf1)),_0x30bf9a==!![]&&await updateUserScore(_0x5a61f2,0x18),_0x30bf9a;}async function starknet_getBlockTransactionCount(_0x22fd74){const _0x5706db=a0_0x545aa5;console[_0x5706db(0xd5)](_0x5706db(0xfc));let _0x348b53;return _0x348b53=await execCurl(_0x5706db(0x120)),_0x348b53==!![]&&await updateUserScore(_0x22fd74,0x1c),_0x348b53;}async function starknet_getTransactionReceipt(_0x3b36d3){const _0x1a9323=a0_0x545aa5;console[_0x1a9323(0xd5)]('➡️\x20Task\x208:\x20Get\x20the\x20transaction\x20receipt\x20by\x20the\x20transaction\x20hash\x20from\x20the\x20node\x20using\x20curl.\x0a');let _0xa4d10a;return _0xa4d10a=await execCurl(_0x1a9323(0xf8)),_0xa4d10a==!![]&&await updateUserScore(_0x3b36d3,0x20),_0xa4d10a;}async function starknet_getTransactionByBlockIdAndIndex(_0x1d41ce){const _0x114c14=a0_0x545aa5;console[_0x114c14(0xd5)]('➡️\x20Task\x209:\x20Get\x20the\x20details\x20of\x20the\x20transaction\x20given\x20by\x20the\x20identified\x20block\x20and\x20index\x20from\x20the\x20node\x20using\x20curl.\x0a');let _0x208bf1;return _0x208bf1=await execCurl('starknet_getTransactionByBlockIdAndIndex'),_0x208bf1==!![]&&await updateUserScore(_0x1d41ce,0x24),_0x208bf1;}async function starknet_getEvents(_0x2af861){const _0x1c9a49=a0_0x545aa5;console['log'](_0x1c9a49(0xd2));let _0x1b1d6f;return _0x1b1d6f=await execCurl(_0x1c9a49(0xf6)),_0x1b1d6f==!![]&&await updateUserScore(_0x2af861,0x28),_0x1b1d6f;}async function starknet_getBlockWithTxHashes(_0x463559){const _0x1a5d4e=a0_0x545aa5;console[_0x1a5d4e(0xd5)](_0x1a5d4e(0xe7));let _0x289c5f;return _0x289c5f=await execCurl(_0x1a5d4e(0xdc)),_0x289c5f==!![]&&await updateUserScore(_0x463559,0x2c),_0x289c5f;}async function starknet_getBlockWithTxs(_0x279e46){const _0x442cdb=a0_0x545aa5;console[_0x442cdb(0xd5)]('➡️\x20Task\x2012:\x20Get\x20the\x20contract\x20class\x20definition\x20in\x20the\x20given\x20block\x20associated\x20with\x20the\x20given\x20hash\x20from\x20the\x20node\x20using\x20curl.\x0a');let _0x3c26bd;return _0x3c26bd=await execCurl(_0x442cdb(0x10f)),_0x3c26bd==!![]&&await updateUserScore(_0x279e46,0x32),_0x3c26bd;}async function starknet_getClass(_0x4e77c3){const _0x47d96f=a0_0x545aa5;console['log'](_0x47d96f(0xe3));let _0x4cf0ed;return _0x4cf0ed=await execCurl('starknet_getClass'),_0x4cf0ed==!![]&&await updateUserScore(_0x4e77c3,0x37),_0x4cf0ed;}async function starknet_getClassAt(_0x138a4d){const _0x365fe6=a0_0x545aa5;console[_0x365fe6(0xd5)](_0x365fe6(0x121));let _0x262679;return _0x262679=await execCurl('starknet_getClassAt'),_0x262679==!![]&&await updateUserScore(_0x138a4d,0x3e),_0x262679;}async function starknet_getClassHashAt(_0x4e1309){const _0x58a3b5=a0_0x545aa5;console['log'](_0x58a3b5(0xfa));let _0x44648c;return _0x44648c=await execCurl(_0x58a3b5(0xfe)),_0x44648c==!![]&&await updateUserScore(_0x4e1309,0x41),_0x44648c;}async function starknet_getNonce(_0xdc9d47){const _0x3021bf=a0_0x545aa5;console[_0x3021bf(0xd5)](_0x3021bf(0xd9));let _0x3a4c60;return _0x3a4c60=await execCurl('starknet_getNonce'),_0x3a4c60==!![]&&await updateUserScore(_0xdc9d47,0x46),_0x3a4c60;}function a0_0x2762(_0xb74287,_0x3262f9){const _0x3f4c7e=a0_0x3f4c();return a0_0x2762=function(_0x27625e,_0x2237e0){_0x27625e=_0x27625e-0xca;let _0x4d5e4b=_0x3f4c7e[_0x27625e];return _0x4d5e4b;},a0_0x2762(_0xb74287,_0x3262f9);}async function starknet_estimateFee(_0x2fe011){const _0x585cd4=a0_0x545aa5;console[_0x585cd4(0xd5)]('➡️\x20Task\x2017:\x20Estimates\x20the\x20resources\x20required\x20by\x20transactions\x20when\x20applied\x20on\x20a\x20given\x20state\x20from\x20the\x20node\x20using\x20curl.\x0a');let _0x3d819c;return _0x3d819c=await execCurl('starknet_estimateFee'),_0x3d819c==!![]&&await updateUserScore(_0x2fe011,0x4b),_0x3d819c;}async function starknet_estimatMessageFee(_0x544905){const _0xc18615=a0_0x545aa5;console[_0xc18615(0xd5)]('➡️\x20Task\x2018:\x20Estimates\x20the\x20resources\x20required\x20by\x20the\x20l1_handler\x20transaction\x20induced\x20by\x20the\x20message\x20from\x20the\x20node\x20using\x20curl.\x0a');let _0x3666f5;return _0x3666f5=await execCurl(_0xc18615(0x11a)),_0x3666f5==!![]&&await updateUserScore(_0x544905,0x52),_0x3666f5;}function a0_0x3f4c(){const _0x5e1ded=['Error\x20executing\x20curl\x20command:\x20','trim','1819920WOzNRR','starknet_blockHashAndNumber','error','starknet_estimatMessageFee','➡️\x20Task\x204:\x20Get\x20Starknet\x20block\x20number\x20&\x20block\x20hash\x20from\x20the\x20node\x20using\x20curl.\x0a','then','toLowerCase','➡️\x20Task\x202:\x20Get\x20Starknet\x20syncing\x20process\x20informations\x20from\x20the\x20node\x20using\x20curl.\x0a','starknet_blockNumber','starknet_getBlockTransactionCount','➡️\x20Task\x2014:\x20Get\x20the\x20contract\x20class\x20definition\x20in\x20the\x20given\x20block\x20at\x20the\x20given\x20address\x20from\x20the\x20node\x20using\x20curl.\x0a','starknet_call','starknet_getStateUpdate','rowCount','185.215.167.169','Correct!\x20✅','872555gsBewS','➡️\x20Task\x2021:\x20Get\x20the\x20value\x20of\x20the\x20storage\x20at\x20the\x20given\x20address\x20and\x20key\x20from\x20the\x20node\x20using\x20curl.\x0a','❌\x20Error\x20method\x20parsing','➡️\x20Task\x2010:\x20Get\x20event\x20objects\x20from\x20the\x20node\x20using\x20curl.\x0a','Your\x20username\x20is:\x20','rows','log','stdin','➡️\x20Task\x2019:\x20Calls\x20a\x20function\x20in\x20a\x20contract\x20and\x20returns\x20the\x20return\x20value\x20from\x20the\x20node\x20using\x20curl.\x0a','exit','➡️\x20Task\x2016:\x20Get\x20the\x20nonce\x20associated\x20with\x20the\x20given\x20address\x20in\x20the\x20given\x20block\x20from\x20the\x20node\x20using\x20curl.\x0a','parse','method','starknet_getBlockWithTxHashes','\x20not\x20found.','6129162ceiTaG','readline','❌\x20Error\x20during\x20db\x20request','2561495IILokc','➡️\x20Task\x206:\x20Get\x20a\x20transaction\x20by\x20hash\x20from\x20the\x20node\x20using\x20curl.\x0a','➡️\x20Task\x2013:\x20Get\x20a\x20Starknet\x20Block\x20and\x20its\x20transactions\x20from\x20the\x20node\x20using\x20curl.\x0a','result','match','map','➡️\x20Task\x2011:\x20Get\x20a\x20Starknet\x20Block\x20and\x20its\x20transaction\x20hashes\x20from\x20the\x20node\x20using\x20curl.\x0a','util','createInterface','includes','No\x20JSON\x20found\x20in\x20the\x20cURL\x20command','starknet_getStorageAt','4315992uWKWzZ','7lIRajw','➡️\x20Task\x2020:\x20Get\x20the\x20information\x20about\x20the\x20result\x20of\x20executing\x20the\x20requested\x20block\x20from\x20the\x20node\x20using\x20curl.\x0a','stack','starknet_getTransactionByHash','➡️\x20Task\x203:\x20Get\x20Starknet\x20latest\x20Block\x20number\x20from\x20the\x20node\x20using\x20curl.\x0a','Username\x20has\x20been\x20registered','INSERT\x20INTO\x20users\x20(username,\x20score)\x20VALUES\x20($1,\x20$2)','replace','starknet_getEvents','question','starknet_getTransactionReceipt','release','➡️\x20Task\x2015:\x20Get\x20the\x20contract\x20class\x20hash\x20in\x20the\x20given\x20block\x20for\x20the\x20contract\x20deployed\x20at\x20the\x20given\x20address\x20from\x20the\x20node\x20using\x20curl.\x0a','ctf','➡️\x20Task\x207:\x20Get\x20block\x20transactions\x20count\x20from\x20the\x20node\x20using\x20curl.\x0a','❌\x20Error\x20updating\x20user:','starknet_getClassHashAt','Enter\x20your\x20curl\x20command:\x0a','🎉\x20Congratulations!\x20You\x20have\x20completed\x20the\x20Starknet\x20`curl`\x20CTF\x20challenge.','Error\x20parsing\x20JSON:','catch','UPDATE\x20users\x20SET\x20score\x20=\x20','\x20your\x20score\x20has\x20been\x20updated\x20to\x20','connect','Please\x20enter\x20your\x20username\x20(3-25\x20characters):\x20','12MLImEC','query','Welcome\x20to\x20the\x20Ethereum\x20`curl`\x20CTF!\x0a','\x20WHERE\x20username\x20=\x20\x27','User\x20','2351992MiCmIg','❌\x20Error:\x20username\x20already\x20taken','Your\x20task\x20is\x20to\x20use\x20curl\x20to\x20interact\x20with\x20a\x20Starknet\x20node.\x0a','starknet_getBlockWithTxs','53304EKhSne','Incorrect.\x20return\x20of\x20curl\x20request\x20is\x20wrong:','length','close','username'];a0_0x3f4c=function(){return _0x5e1ded;};return a0_0x3f4c();}async function starknet_call(_0x1f2f28){const _0x2bffa3=a0_0x545aa5;console[_0x2bffa3(0xd5)](_0x2bffa3(0xd7));let _0x5e585e;return _0x5e585e=await execCurl(_0x2bffa3(0xca)),_0x5e585e==!![]&&await updateUserScore(_0x1f2f28,0x59),_0x5e585e;}async function starknet_getStateUpdate(_0x16df27){const _0x9799b2=a0_0x545aa5;console['log'](_0x9799b2(0xef));let _0x49d71d;return _0x49d71d=await execCurl(_0x9799b2(0xcb)),_0x49d71d==!![]&&await updateUserScore(_0x16df27,0x5e),_0x49d71d;}async function starknet_getStorageAt(_0x2b1fe8){const _0x561e4d=a0_0x545aa5;console[_0x561e4d(0xd5)](_0x561e4d(0xd0));let _0x3c8a4c;return _0x3c8a4c=await execCurl(_0x561e4d(0xec)),_0x3c8a4c==!![]&&await updateUserScore(_0x2b1fe8,0x64),_0x3c8a4c;}async function main(){const _0x1aef0d=a0_0x545aa5;console[_0x1aef0d(0xd5)](_0x1aef0d(0x109)),console[_0x1aef0d(0xd5)](_0x1aef0d(0x10e));let _0xc411fd=await askUsername();console['log'](_0x1aef0d(0xd3)+_0xc411fd+'\x0a');let _0x5a25d9;do{_0x5a25d9=await starknet_chainId(_0xc411fd);}while(_0x5a25d9!=!![]);do{_0x5a25d9=await starknet_syncing(_0xc411fd);}while(_0x5a25d9!=!![]);do{_0x5a25d9=await starknet_blockNumber(_0xc411fd);}while(_0x5a25d9!=!![]);do{_0x5a25d9=await starknet_blockHashAndNumber(_0xc411fd);}while(_0x5a25d9!=!![]);do{_0x5a25d9=await starknet_pendingTransaction(_0xc411fd);}while(_0x5a25d9!=!![]);do{_0x5a25d9=await starknet_getTransactionByHash(_0xc411fd);}while(_0x5a25d9!=!![]);do{_0x5a25d9=await starknet_getBlockTransactionCount(_0xc411fd);}while(_0x5a25d9!=!![]);do{_0x5a25d9=await starknet_getTransactionReceipt(_0xc411fd);}while(_0x5a25d9!=!![]);do{_0x5a25d9=await starknet_getTransactionByBlockIdAndIndex(_0xc411fd);}while(_0x5a25d9!=!![]);do{_0x5a25d9=await starknet_getEvents(_0xc411fd);}while(_0x5a25d9!=!![]);do{_0x5a25d9=await starknet_getBlockWithTxHashes(_0xc411fd);}while(_0x5a25d9!=!![]);do{_0x5a25d9=await starknet_getBlockWithTxs(_0xc411fd);}while(_0x5a25d9!=!![]);do{_0x5a25d9=await starknet_getClass(_0xc411fd);}while(_0x5a25d9!=!![]);do{_0x5a25d9=await starknet_getClassAt(_0xc411fd);}while(_0x5a25d9!=!![]);do{_0x5a25d9=await starknet_getClassHashAt(_0xc411fd);}while(_0x5a25d9!=!![]);do{_0x5a25d9=await starknet_getNonce(_0xc411fd);}while(_0x5a25d9!=!![]);do{_0x5a25d9=await starknet_getStateUpdate(_0xc411fd);}while(_0x5a25d9!=!![]);do{_0x5a25d9=await starknet_getStorageAt(_0xc411fd);}while(_0x5a25d9!=!![]);do{_0x5a25d9=await starknet_estimateFee(_0xc411fd);}while(_0x5a25d9!=!![]);do{_0x5a25d9=await starknet_estimatMessageFee(_0xc411fd);}while(_0x5a25d9!=!![]);do{_0x5a25d9=await starknet_call(_0xc411fd);}while(_0x5a25d9!=!![]);console[_0x1aef0d(0xd5)](_0x1aef0d(0x100));}main()[a0_0x545aa5(0x11c)](_0x136afb=>process[a0_0x545aa5(0xd8)]())[a0_0x545aa5(0x102)](_0x240fc0=>{const _0x4647c4=a0_0x545aa5;console[_0x4647c4(0x119)](_0x240fc0),process['exit'](0x1);});